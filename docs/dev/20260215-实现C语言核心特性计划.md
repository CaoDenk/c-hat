# C^ 对标 C 语言核心特性实现计划

## 日期
2026-02-15

## 目标
短期内实现 C^ 语言对标 C 语言的全部核心特性，使其具备完整的系统编程能力。

---

## C 语言核心特性清单

### 1. **基本类型系统**
- [x] 布尔类型：`_Bool` / `bool`
- [x] 字符类型：`char`, `signed char`, `unsigned char`
- [x] 整数类型：`short`, `int`, `long`, `long long` (及无符号版本)
- [x] 浮点类型：`float`, `double`, `long double`
- [x] 空类型：`void`

### 2. **类型修饰符**
- [ ] `const` - 常量修饰符
- [ ] `volatile` - 易变修饰符
- [ ] `static` - 静态存储类
- [ ] `extern` - 外部链接


### 3. **数组**
- [x] 一维数组
- [x] 多维数组（矩形数组）
- [ ] 变长数组（VLA）
- [x] 数组初始化

### 4. **指针**
- [x] 指针类型（`Type^`）
- [ ] 取地址运算符（前缀 `^`）
- [ ] 解引用运算符（后缀 `^`）
- [ ] 指针算术（+、-、++、--）
- [ ] 指针比较
- [x] 多级指针（`Type^^`, `Type^^^` 等）
- [ ] 函数指针

### 5. **函数**
- [x] 函数声明和定义
- [x] 函数参数
- [x] 函数返回值
- [ ] 递归函数
- [ ] 可变参数函数（`...`）
- [ ] 函数指针
- [ ] 内联函数（`inline`）

### 6. **控制流**
- [x] `if-else` 语句
- [x] `switch-case` 语句（待验证）
- [x] `while` 循环
- [x] `do-while` 循环（待验证）
- [x] `for` 循环
- [x] `break` 语句
- [x] `continue` 语句
- [x] `return` 语句
- [ ] `goto` 语句（可选）

### 7. **运算符**
- [x] 算术运算符：`+`, `-`, `*`, `/`, `%`
- [x] 复合赋值运算符：`+=`, `-=`, `*=`, `/=`, `%=` 等
- [x] 比较运算符：`<`, `<=`, `>`, `>=`, `==`, `!=`
- [x] 逻辑运算符：`&&`, `||`, `!`
- [x] 位运算符：`&`, `|`, `^`, `~`, `<<`, `>>`
- [ ] 条件运算符：`? :`（三元运算符）
- [ ] 逗号运算符：`,`
- [x] 递增/递减：`++`, `--`（前缀/后缀）
- [ ] 类型转换运算符

### 8. **结构体和联合体**
- [ ] 结构体（`struct`）
- [ ] 联合体（`union`）
- [ ] 位域
- [ ] 结构体初始化
- [ ] 结构体成员访问（`.` 和 `->`）

### 9. **枚举**
- [ ] 枚举类型（`enum`）
- [ ] 枚举值

### 10. **类型定义**
- [ ] `typedef` 类型别名
- [x] 类型别名（设计文档中的 `alias`）

### 11. **存储管理**
- [ ] `malloc` / `calloc` / `realloc` / `free`（标准库函数）
- [ ] `new` / `delete`（C^ 特有）

### 12. **预处理**
- [ ] 宏定义（`#define`）
- [ ] 文件包含（`#include`）
- [ ] 条件编译（`#if`, `#ifdef`, `#else`, `#elif`, `#endif`）

---

## 实现优先级

### 第一阶段：核心功能（1-2周）
- [x] 完成基础类型系统
- [x] 完成数组支持
- [x] 完成指针类型声明
- [x] 完成基本控制流（if-else, while, for）
- [ ] 完成结构体和联合体
- [ ] 完成枚举
- [ ] 完成基本函数支持

### 第二阶段：完善功能（2-3周）
- [ ] 实现指针操作（取地址、解引用、指针算术）
- [ ] 实现 `const` 和 `volatile` 修饰符
- [ ] 实现函数指针
- [ ] 实现 `typedef` 类型别名
- [ ] 实现条件运算符（三元运算符）
- [ ] 实现类型转换

### 第三阶段：完善细节（3-4周）
- [ ] 实现可变参数函数
- [ ] 实现 `switch-case` 语句
- [ ] 实现 `do-while` 循环
- [ ] 实现存储类说明符（`static`, `extern`）
- [ ] 完善运算符支持
- [ ] 实现预处理基础功能

---

## 当前进度

根据之前的开发，我们已经完成了：
- ✅ 完整的内置类型系统（bool, char, int, float, double 等）
- ✅ 一维数组和多维数组
- ✅ 指针类型声明
- ✅ 基本控制流（if-else, while, for, break, continue）
- ✅ 变量声明和赋值
- ✅ 复合赋值运算符
- ✅ 函数声明和定义

下一步重点：
1. 结构体和联合体支持
2. 枚举支持
3. 指针操作（取地址、解引用）
4. 类型别名（typedef）
